<!--Main Navigation-->

<app-private-header></app-private-header>
<!--Main Navigation-->

<!--Main layout-->
<main style="margin-top: 58px">
    <div class="container pt-4">
        <!--Section: Sales Performance KPIs-->
        <section class="mb-4">
            <div class="card">
                <div class="card-header text-center py-3 d-flex ">
                    <h5 class="mb-0 text-center m-auto">
                        <strong>Comments For Response</strong>
                    </h5>
                </div>
                <div class="card-body">
                    <div class="row justify-content-center">
                        <div class="col-md-3 " *ngFor="let recipe of recipes">
                            <div class="card mb-3">
                                <div class="card-body">
                                    <h5 class="card-title">{{recipe.title}}</h5>

                                    <div *ngFor="let comment of recipe.comments" class="d-flex">
                                        <ng-container *ngIf="comment.response ==''">
                                            <div class="card-text col-md-8">
                                                <span class="m-auto">{{comment.comment}} - </span>
                                                <small>{{comment.create_at}}</small>

                                            </div>
                                            <div class="col-md-4">
                                                <button
                                                    (click)="onChangueComent(recipe.id,comment.comment, recipe.title, comment.id)"
                                                    type="button" class="btn btn-primary sm justify-content-end"
                                                    data-mdb-toggle="modal" data-mdb-target="#responseComment"><i
                                                        class="fas fa-comment-medical"></i></button>
                                            </div>
                                        </ng-container>

                                    </div>

                                    <a class="btn btn-primary" [routerLink]="['/detail', recipe.id]"
                                        routerLinkActive="router-link-active"><i class="fas fa-eye"></i></a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!--Section: Sales Performance KPIs-->
    </div>

    <!-- Modal -->
    <div class="modal fade" id="responseComment" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Response Comment</h5>
                    <button type="button" class="btn-close" data-mdb-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form action="">
                        <h2>{{title}}</h2>
                        <p>{{commentReponse.comment}}</p>
                        <div class="form-group">
                            <label for="">Response</label>
                            <input type="text" class="form-control" [(ngModel)]="commentReponse.response" name="name"
                                placeholder="Name">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-mdb-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary" data-mdb-dismiss="modal" (click)="addComment()">Save
                        changes</button>
                </div>
            </div>
        </div>
    </div>

</main>
<!--Main layout-->